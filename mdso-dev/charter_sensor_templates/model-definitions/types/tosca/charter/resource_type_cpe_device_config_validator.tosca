"$schema"   = "http://cyaninc.com/json-schemas/tosca-lite-v1/definition-module#"
title       = "CPE Device Config Validator"
package     = charter
version     = "1.0"
description = """
This document defines the CPE Port Check action that will do the initial
check of the port on CPE device, if the port is in in-service then fail the
top resource.
"""
authors     = [ "Yeshaswini Narayana (ynarayan@partner.ciena.com)" ]

imports {

}

resourceTypes {
    CpeDeviceConfigValidator {
        derivedFrom = charter.resourceTypes.BaseResource
        title = CPE Device Config Validator
        description = """
        - Extended from charter.resourceTypes.BaseResource
        - This resource will do the following:
            1   - for CPE it will check if port is in-service or not
                - If the port is already in in-service, it will fail the resource.
        """

        properties {
            circuit_details_id {
                title = "Circuit Details ID"
                description = "ID for the circuit details created from the Granite system"
                type = string
                optional = false
                updatable = false
            }
        }

        requirements {

        }

        capabilities {

        }

    }
}

serviceTemplates {

    CpeDeviceConfigValidator {
        title = CPE Device Config Validator
        description = "CPE Device Config Validator"
        implements = charter.resourceTypes.CpeDeviceConfigValidator

        plans {

            activate {
                type = remote
                language = python
                path = "scripts.networkservice.cpedeviceconfigvalidator.Activate"
            }

        }
    }
}