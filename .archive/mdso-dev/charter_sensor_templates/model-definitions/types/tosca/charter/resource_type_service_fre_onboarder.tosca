"$schema"   = "http://cyaninc.com/json-schemas/tosca-lite-v1/definition-module#"
title       = "Device Onboarder"
package     = charter
version     = "1.0"
description = """
This document defines the resource that can be used for the onboarding of a device into
the Blue Planet system.
"""
authors     = [ "Matt Becker (mbecker@ciena.com)" ]

imports {

}

resourceTypes { 
    ServiceFreOnboarder {
        derivedFrom = tosca.resourceTypes.Root
        title = Service Fre Onboarder
        description = """
         Input: Circuit Details ID

        Actions:
        - Based on the circuit topology it will build FREs (Link representation) between the CPE devices
        and the PE device.
        - Typically the CPE is a TPE and the PE is a juniper Port
        - If the TPE/Port already have a relationship with another FRE, than it is ignored.  If the TPE/Port
        cannot be found in the Market, than an error is thrown.
         """

        properties {
        
            circuit_details_id {
                title = "Circuit Details ID"
                description = "ID for the circuit details created from the Granite system"
                type = string
                optional = false
                updatable = false
            }

            resource_name {
                title = "Resource Name"
                description = "Resource Name"
                type = string
                optional = true
                updatable = false
            }
        }

        requirements {
    
        }
    
        capabilities {
    
        }

    }
}

serviceTemplates {

    ServiceFreOnboarder {
        title = Service Fre Onboarder
        description = "Service Fre Onboarder"
        implements = charter.resourceTypes.ServiceFreOnboarder
        
        plans {

            activate {
                type = remote
                language = python
                path = "scripts.networkservice.servicefreonboarder.Activate"
            }
            
        }
    }
}