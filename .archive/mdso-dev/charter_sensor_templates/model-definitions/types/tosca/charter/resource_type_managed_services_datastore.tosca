"$schema"   = "http://cyaninc.com/json-schemas/tosca-lite-v1/definition-module#"
title       = "Managed Services Datastore"
package     = charter
version     = "1.0"
description = """
This document defines a set of properties to be stored in the resource.
"""
authors     = []

imports {

}

resourceTypes {
    datastore {
        derivedFrom = tosca.resourceTypes.Root
        title = Datastore
        description = """
        - This document defines a set of properties to be stored in the resource.
        """

        properties {
            fortinetBuild {
                title = "fortinet build"
                description = "the most recent approved version and build of the fortinet firmware"
                type = string
                optional = true
                updatable = true
                default = "6.2.4-b1112"
            },
            sourceAdom {
                title = "source ADOM"
                description = "the primary source ADOM that should be cloned in fortitools"
                type = string
                optional = true
                updatable = true
                default = root
            },
            url {
                title = url
                description = url of endpoint to gather provisioning data
                type = string
                default = "https://sensor-dev-07.dev.chtrse.com/orchestrate/"
            },
            dataPolicyKeepLogsForAnalytics {
                title = "Data Policy Keep Logs for Analytics"
                description = "Data Policy Keep Logs for Analytics"
                type = integer
                default = 2160
                optional = true
            },
            dataPolicyKeepLogsForArchive {
                title = "Data Policy Keep Logs for Archive"
                description = "Data Policy Keep Logs for Archive"
                type = integer
                default = 2160
                optional = true
            },
            diskUtilizationAllocated {
                title = "Disk Utilization Allocated"
                description = "Disk Utilization Allocated"
                type = integer
                default = 92160
                optional = true
            },
            diskUtilizationAnalyticsArchived {
                title = "Disk Utilization Analytics Archived"
                description = "Disk Utilization Analytics Archived"
                type = integer
                default = 70
                optional = true
            },
            diskUtilizationAnalyticsArchivedUnit {
                title = "Disk Utilization Analytics Archived Unir"
                description = "Disk Utilization Analytics Archived Unit"
                type = string
                default = "MB"
                enum = ["MB","GB","TB"]
                optional = true
            }, 
            policy{
                title = policy
                description = default policy to clone
                type = string
                default = default
            }
            template{
                title = template
                description = template 
                type = string
                default = "Golden_Policy_IPV4"
            }

        }
    }
},
serviceTemplates {
    datastore {
        title = datastore
        description = stores MRS and MSS properties
        implements = charter.resourceTypes.datastore

        plans {
            activate {
                type = remote
                language = python
                path = "scripts.managedServicesActivator.datastore.Activate"
            }
            terminate {
                type = remote
                language = python
                path = "scripts.managedServicesActivator.datastore.Terminate"
            }
        }
    }
}
