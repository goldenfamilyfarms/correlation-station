"$schema"   = "http://cyaninc.com/json-schemas/tosca-lite-v1/definition-module#"
title       = "Meraki Location Update"
package     = charter
version     = "2.0"
description = """
This document holds the fields to update device location in Meraki dashboard.
"""

imports {
}


resourceTypes {
    merakiLocationUpdate {
        title = MerakiLocationUpdate
        description = """Update Location for MNE Per Room"""
        derivedFrom = tosca.resourceTypes.Root
        properties {
            devices {
                title = "Devices"
                description = "List of network devices"
                type = object
                optional = false
            }
            configurations {
                title = "configurations"
                description = "place to store configuration data"
                type = object
                optional = true
            }
            networkID{
                title = "Network ID"
                description = "Network Site ID to be used in Day1 Tasks"
                type = string
                optional = true
            }
            networkName{
                title = "Network Name"
                description = "Network name"
                type = string
                optional = true
            }
            orgName{
                title = "Org name"
                description = "org name"
                type = string
                optional = true
            }
            orgID{
                title = "Org id"
                description = "org id"
                type = string
                optional = true
            }
        }
    }
}


serviceTemplates {
    merakiLocationUpdate {
        title = Meraki Location Update
        description = Meraki location update
        implements = charter.resourceTypes.merakiLocationUpdate
        plans {
            activate{
                type = remote
                language = python
                path = "scripts.managedServicesActivator.merakiServices.updateLocation.Activate"
            }
            terminate{
                type = remote
                language = python
                path = "scripts.managedServicesActivator.merakiServices.updateLocation.Terminate"
            }
        }
    }
}