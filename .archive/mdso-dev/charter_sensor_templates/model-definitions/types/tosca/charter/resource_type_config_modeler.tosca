"$schema"   = "http://cyaninc.com/json-schemas/tosca-lite-v1/definition-module#"
title       = "Config Modeler"
package     = charter
version     = "1.0"
description = """
This document defines Config Modeler. This is the top level service
construct that will be used for communicating with north-bound OSS, WebPortals,
etc...
"""
authors     = [ "Allison Patino (allison.patino@charter.com)"]

imports {

}

resourceTypes {
    configModeler {
        derivedFrom = charter.resourceTypes.BaseResource
        title = Config Modeler
        description = """
        - Extended from charter.resourceTypes.BaseResource
        - The main entry point for Charter's systems for creating a Config Modeler resource.
        - This Resource Definition only requires the Charter Circuit ID 
        - For service types like FIA, ELINE, ELAN, etc.
        """

        properties {
            circuit_id {
                title = Circuit ID
                description = Circuit ID
                type = string
                optional = false
                updatable = false
            }
            device {
                title = Device
                description = Device TID
                type = string
                optional = false
                updatable = false
            }
            location {
                title = Location
                description = Device Location
                type = string
                optional = true
                updatable = true
            }
            vendor {
                title = Vendor
                description = Device Vendor
                type = string
                optional = false
            }
            circuit_details_id {
                title = Circuit Details ID
                description = Circuit Details resource ID
                type = string
                optional = true
                default = ""
            }
            network_config {
                title = Network Config
                description = Network Config Modeling requested
                type = boolean
                optional = true
                default = false
            }
            modeled_config {
                title = Modeled Config
                description = Device Data (FQDN and modeled config)
                type = object
                output = true
            }
        }
    }
}

serviceTemplates {
    configModeler {
        title = Config Modeler
        description = Config Modeler
        implements = charter.resourceTypes.configModeler

        plans {

            activate {
                type = remote
                language = python
                path = "scripts.configmodeler.modeler.Activate"
            }
            terminate {
                type = remote
                language = python
                path = "scripts.configmodeler.modeler.Terminate"
            }
        }
    }
}
